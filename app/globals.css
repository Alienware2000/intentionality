@import "tailwindcss";

/* =============================================================================
   INTENTIONALITY - PREMIUM DESIGN SYSTEM
   Iron Man HUD-inspired interface with user-selectable accent themes
   ============================================================================= */

/* =============================================================================
   ACCENT THEME SYSTEM
   Dynamic accent colors set by JavaScript via data-accent attribute
   Default: crimson (refined red)
   ============================================================================= */

/* Crimson Theme (Default) - Refined red with gold highlights */
:root,
:root[data-accent="crimson"] {
  --accent-primary: #dc2626;
  --accent-primary-rgb: 220, 38, 38;
  --accent-primary-glow: rgba(220, 38, 38, 0.35);
  --accent-highlight: #fbbf24;
  --accent-highlight-rgb: 251, 191, 36;
}

/* Teal Theme - Solarpunk nature/tech fusion */
:root[data-accent="teal"] {
  --accent-primary: #00d4aa;
  --accent-primary-rgb: 0, 212, 170;
  --accent-primary-glow: rgba(0, 212, 170, 0.35);
  --accent-highlight: #f0c040;
  --accent-highlight-rgb: 240, 192, 64;
}

/* Gold Theme - Solar powered warmth */
:root[data-accent="gold"] {
  --accent-primary: #f0c040;
  --accent-primary-rgb: 240, 192, 64;
  --accent-primary-glow: rgba(240, 192, 64, 0.35);
  --accent-highlight: #00d4aa;
  --accent-highlight-rgb: 0, 212, 170;
}

/* Violet Theme - Deep focus mode */
:root[data-accent="violet"] {
  --accent-primary: #7c5cff;
  --accent-primary-rgb: 124, 92, 255;
  --accent-primary-glow: rgba(124, 92, 255, 0.35);
  --accent-highlight: #f0c040;
  --accent-highlight-rgb: 240, 192, 64;
}

/* Emerald Theme - Nature growth */
:root[data-accent="emerald"] {
  --accent-primary: #10b981;
  --accent-primary-rgb: 16, 185, 129;
  --accent-primary-glow: rgba(16, 185, 129, 0.35);
  --accent-highlight: #fbbf24;
  --accent-highlight-rgb: 251, 191, 36;
}

/* =============================================================================
   DARK THEME (Default)
   Premium dark mode with true blacks and dramatic contrast
   ============================================================================= */

:root,
:root.dark {
  /* Base colors - Zinc Charcoal with soft warmth */
  --bg-base: #18181b;
  --bg-base-rgb: 24, 24, 27;
  --bg-elevated: #1f1f23;
  --bg-card: #27272a;
  --bg-card-rgb: 39, 39, 42;
  --bg-hover: #3f3f46;

  /* Text colors */
  --text-primary: #ffffff;
  --text-secondary: #b5b5b5;
  --text-muted: #71717a;

  /* Fixed semantic colors (not affected by accent theme) */
  --accent-success: #22c55e;
  --accent-success-rgb: 34, 197, 94;
  --accent-streak: #f97316;
  --accent-streak-rgb: 249, 115, 22;
  --accent-danger: #ef4444;
  --accent-danger-rgb: 239, 68, 68;
  --accent-info: #3b82f6;
  --accent-info-rgb: 59, 130, 246;

  /* Priority colors */
  --priority-high: #ef4444;
  --priority-medium: #eab308;
  --priority-low: #525252;

  /* Borders and lines - boosted accent visibility for grey */
  --border-subtle: rgba(255, 255, 255, 0.08);
  --border-default: rgba(255, 255, 255, 0.12);
  --border-accent: rgba(var(--accent-primary-rgb), 0.45);
  --border-hover: rgba(var(--accent-primary-rgb), 0.25);

  /* Heatmap & Skeleton */
  --heatmap-empty: #27272a;
  --skeleton-bg: #27272a;

  /* Achievement Tiers */
  --tier-bronze-text: #f59e0b;
  --tier-bronze-glow: rgba(217, 119, 6, 0.6);
  --tier-silver-text: #94a3b8;
  --tier-silver-glow: rgba(148, 163, 184, 0.6);
  --tier-gold-text: #fbbf24;
  --tier-gold-glow: rgba(250, 204, 21, 0.6);

  /* Modal Backdrops */
  --backdrop-color: rgba(24, 24, 27, 0.85);
  --backdrop-heavy: rgba(24, 24, 27, 0.92);

  /* Level-up glow - uses accent highlight */
  --levelup-glow: rgba(var(--accent-highlight-rgb), 0.5);
  --levelup-glow-soft: rgba(var(--accent-highlight-rgb), 0.3);

  /* Premium glow intensities - refined for grey background */
  --glow-subtle: 0 0 20px rgba(var(--accent-primary-rgb), 0.12);
  --glow-medium: 0 0 28px rgba(var(--accent-primary-rgb), 0.20);
  --glow-strong: 0 0 36px rgba(var(--accent-primary-rgb), 0.30);

  /* Legacy - for Tailwind compatibility */
  --background: #18181b;
  --foreground: #ffffff;
}

/* =============================================================================
   MIDNIGHT BASE THEME (True Black)
   OLED-optimized with enhanced glows for higher contrast
   ============================================================================= */

:root.dark[data-base="midnight"] {
  /* Base colors - True black */
  --bg-base: #09090b;
  --bg-base-rgb: 9, 9, 11;
  --bg-elevated: #111113;
  --bg-card: #18181b;
  --bg-card-rgb: 24, 24, 27;
  --bg-hover: #27272a;

  /* Adjusted for darker base */
  --heatmap-empty: #18181b;
  --skeleton-bg: #18181b;
  --backdrop-color: rgba(9, 9, 11, 0.90);
  --backdrop-heavy: rgba(9, 9, 11, 0.95);

  /* Enhanced glows for higher contrast */
  --glow-subtle: 0 0 24px rgba(var(--accent-primary-rgb), 0.18);
  --glow-medium: 0 0 32px rgba(var(--accent-primary-rgb), 0.28);
  --glow-strong: 0 0 40px rgba(var(--accent-primary-rgb), 0.40);

  /* Borders - more visible on pure black */
  --border-subtle: rgba(255, 255, 255, 0.10);
  --border-default: rgba(255, 255, 255, 0.15);

  --background: #09090b;
}

/* =============================================================================
   LIGHT THEME
   Clean, professional light mode with accent theme support
   ============================================================================= */

:root.light {
  /* Base colors - tactical warm cream palette (HUD-inspired) */
  --bg-base: #f0ece4;
  --bg-base-rgb: 240, 236, 228;
  --bg-elevated: #f5f2ec;
  --bg-card: #faf8f4;
  --bg-card-rgb: 250, 248, 244;
  --bg-hover: #e8e4dc;

  /* Text colors - warm undertones for cream harmony (WCAG AAA compliant) */
  --text-primary: #1a1814;
  --text-secondary: #3d3830;
  --text-muted: #6b6358;

  /* Fixed semantic colors - deeper tones for cream background visibility */
  --accent-success: #0d7a3e;
  --accent-success-rgb: 13, 122, 62;
  --accent-streak: #c94a14;
  --accent-streak-rgb: 201, 74, 20;
  --accent-danger: #c42b2b;
  --accent-danger-rgb: 196, 43, 43;
  --accent-info: #1d5aa8;
  --accent-info-rgb: 29, 90, 168;

  /* Priority colors - adjusted for cream backgrounds */
  --priority-high: #c42b2b;
  --priority-medium: #a67108;
  --priority-low: #6b6358;

  /* Borders and lines - stronger HUD panel definition */
  --border-subtle: rgba(30, 25, 20, 0.12);
  --border-default: rgba(30, 25, 20, 0.22);
  --border-accent: rgba(var(--accent-primary-rgb), 0.35);
  --border-hover: rgba(var(--accent-primary-rgb), 0.20);

  /* Heatmap & Skeleton - warm cream tones */
  --heatmap-empty: #e4e0d8;
  --skeleton-bg: #e4e0d8;

  /* Achievement Tiers - warm tones for cream background */
  --tier-bronze-text: #9a5e0d;
  --tier-bronze-glow: rgba(154, 94, 13, 0.45);
  --tier-silver-text: #4a453d;
  --tier-silver-glow: rgba(74, 69, 61, 0.45);
  --tier-gold-text: #9a5e0d;
  --tier-gold-glow: rgba(154, 94, 13, 0.45);

  /* Modal Backdrops - warmer tactical overlays */
  --backdrop-color: rgba(30, 25, 20, 0.55);
  --backdrop-heavy: rgba(30, 25, 20, 0.70);

  /* Level-up glow - uses accent */
  --levelup-glow: rgba(var(--accent-highlight-rgb), 0.4);
  --levelup-glow-soft: rgba(var(--accent-highlight-rgb), 0.2);

  /* Premium glow intensities - boosted visibility on cream backgrounds */
  --glow-subtle: 0 0 20px rgba(var(--accent-primary-rgb), 0.20);
  --glow-medium: 0 0 28px rgba(var(--accent-primary-rgb), 0.30);
  --glow-strong: 0 0 40px rgba(var(--accent-primary-rgb), 0.40);

  /* Legacy - for Tailwind compatibility */
  --background: #f0ece4;
  --foreground: #1a1814;
}

/* Light mode accent theme adjustments - darkened for tactical cream backgrounds */
:root.light[data-accent="crimson"] {
  --accent-primary: #c42020;
  --accent-primary-rgb: 196, 32, 32;
  --accent-primary-glow: rgba(196, 32, 32, 0.30);
}

:root.light[data-accent="teal"] {
  --accent-primary: #0a8a74;
  --accent-primary-rgb: 10, 138, 116;
  --accent-primary-glow: rgba(10, 138, 116, 0.30);
}

:root.light[data-accent="gold"] {
  --accent-primary: #9a5e0d;
  --accent-primary-rgb: 154, 94, 13;
  --accent-primary-glow: rgba(154, 94, 13, 0.30);
}

:root.light[data-accent="violet"] {
  --accent-primary: #5a32a3;
  --accent-primary-rgb: 90, 50, 163;
  --accent-primary-glow: rgba(90, 50, 163, 0.30);
}

:root.light[data-accent="emerald"] {
  --accent-primary: #047857;
  --accent-primary-rgb: 4, 120, 87;
  --accent-primary-glow: rgba(4, 120, 87, 0.30);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--bg-base);
  color: var(--text-primary);
  font-family: var(--font-sans), system-ui, sans-serif;
}

/* =============================================================================
   PREMIUM HUD BACKGROUND
   Iron Man-inspired layered background with hexagonal tech grid
   ============================================================================= */

.intentionality-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

/* Layer 1: Hexagonal tech grid pattern - slightly more visible on grey */
.intentionality-bg::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    /* Hexagonal dot pattern */
    radial-gradient(circle at center, rgba(255, 255, 255, 0.035) 1px, transparent 1px),
    /* Primary grid lines */
    linear-gradient(to right, rgba(255, 255, 255, 0.025) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.025) 1px, transparent 1px);
  background-size: 24px 24px, 48px 48px, 48px 48px;
  background-position: 0 0, 0 0, 0 0;
  opacity: 0.7;
}

/* Layer 2: Accent-aware corner glows with reduced vignette for grey base */
.intentionality-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    /* Top-left accent glow */
    radial-gradient(700px circle at 5% 5%, rgba(var(--accent-primary-rgb), 0.12), transparent 50%),
    /* Top-right subtle accent glow */
    radial-gradient(500px circle at 95% 10%, rgba(var(--accent-primary-rgb), 0.06), transparent 50%),
    /* Bottom-left subtle highlight */
    radial-gradient(400px circle at 10% 90%, rgba(var(--accent-highlight-rgb), 0.04), transparent 50%),
    /* Bottom-right accent glow */
    radial-gradient(600px circle at 90% 85%, rgba(var(--accent-primary-rgb), 0.08), transparent 50%),
    /* Center darkening for depth - reduced for grey background */
    radial-gradient(1600px circle at 50% 50%, transparent 20%, rgba(0, 0, 0, 0.35) 100%);
  opacity: 1;
  transition: background 0.5s ease-out;
}

/* Midnight base - enhanced ambient glows and deeper vignette */
:root.dark[data-base="midnight"] .intentionality-bg::before {
  background-image:
    radial-gradient(circle at center, rgba(255, 255, 255, 0.025) 1px, transparent 1px),
    linear-gradient(to right, rgba(255, 255, 255, 0.018) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.018) 1px, transparent 1px);
  opacity: 0.6;
}

:root.dark[data-base="midnight"] .intentionality-bg::after {
  background:
    radial-gradient(700px circle at 5% 5%, rgba(var(--accent-primary-rgb), 0.16), transparent 50%),
    radial-gradient(500px circle at 95% 10%, rgba(var(--accent-primary-rgb), 0.08), transparent 50%),
    radial-gradient(400px circle at 10% 90%, rgba(var(--accent-highlight-rgb), 0.06), transparent 50%),
    radial-gradient(600px circle at 90% 85%, rgba(var(--accent-primary-rgb), 0.10), transparent 50%),
    radial-gradient(1600px circle at 50% 50%, transparent 15%, rgba(0, 0, 0, 0.50) 100%);
}

/* HUD scan line element - requires JavaScript to animate */
.hud-scan-line {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(var(--accent-primary-rgb), 0) 20%,
    rgba(var(--accent-primary-rgb), 0.5) 50%,
    rgba(var(--accent-primary-rgb), 0) 80%,
    transparent 100%
  );
  pointer-events: none;
  opacity: 0;
}

/* Light mode background adjustments - tactical HUD grid and glows */
:root.light .intentionality-bg::before {
  background-image:
    radial-gradient(circle at center, rgba(30, 25, 20, 0.04) 1px, transparent 1px),
    linear-gradient(to right, rgba(30, 25, 20, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(30, 25, 20, 0.03) 1px, transparent 1px);
  opacity: 0.8;
}

:root.light .intentionality-bg::after {
  background:
    /* Top-left accent glow - visible on cream */
    radial-gradient(600px circle at 5% 5%, rgba(var(--accent-primary-rgb), 0.10), transparent 50%),
    /* Top-right accent glow */
    radial-gradient(400px circle at 95% 10%, rgba(var(--accent-primary-rgb), 0.06), transparent 50%),
    /* Bottom-left highlight */
    radial-gradient(350px circle at 10% 90%, rgba(var(--accent-highlight-rgb), 0.05), transparent 50%),
    /* Bottom-right accent glow */
    radial-gradient(500px circle at 90% 85%, rgba(var(--accent-primary-rgb), 0.08), transparent 50%),
    /* Subtle vignette for depth */
    radial-gradient(1600px circle at 50% 50%, transparent 50%, rgba(30, 25, 20, 0.06) 100%);
}

/* =============================================================================
   CUSTOM SCROLLBAR STYLING
   Thin, themed scrollbars that match the design system
   ============================================================================= */

.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--border-default) transparent;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--border-default);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: var(--text-muted);
}

:root.light .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--border-subtle);
}

:root.light .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: var(--text-muted);
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

/* Theme-aware color scheme for native date/time inputs */
.theme-color-scheme {
  color-scheme: dark;
}

:root.light .theme-color-scheme {
  color-scheme: light;
}

/* Monospace text for numbers and stats */
.font-mono-stats {
  font-family: var(--font-mono), ui-monospace, monospace;
  font-feature-settings: "tnum" on, "lnum" on;
}

/* =============================================================================
   ACCENT-AWARE GLOW UTILITIES
   Dynamic glows that respond to the selected accent theme
   ============================================================================= */

/* Primary accent glow - uses current theme accent */
.glow-primary {
  box-shadow: var(--glow-subtle);
}

.glow-primary-hover:hover {
  box-shadow: var(--glow-medium);
}

.glow-primary-active {
  box-shadow: var(--glow-strong);
}

/* Legacy glow classes (still work, now accent-aware) */
.glow-red {
  box-shadow: 0 0 20px rgba(var(--accent-primary-rgb), 0.3);
}

/* Orange glow for streaks */
.glow-orange,
.glow-streak {
  box-shadow: 0 0 15px rgba(var(--accent-streak-rgb), 0.4);
}

/* Highlight glow */
.glow-highlight {
  box-shadow: 0 0 20px rgba(var(--accent-highlight-rgb), 0.4);
}

/* Success glow */
.glow-success {
  box-shadow: 0 0 15px rgba(var(--accent-success-rgb), 0.35);
}

/* Light mode glow adjustments - boosted visibility for cream backgrounds */
:root.light .glow-primary {
  box-shadow: var(--glow-subtle);
}

:root.light .glow-red {
  box-shadow: 0 0 18px rgba(var(--accent-primary-rgb), 0.25);
}

:root.light .glow-orange,
:root.light .glow-streak {
  box-shadow: 0 0 15px rgba(var(--accent-streak-rgb), 0.28);
}

:root.light .glow-highlight {
  box-shadow: 0 0 18px rgba(var(--accent-highlight-rgb), 0.32);
}

:root.light .glow-success {
  box-shadow: 0 0 15px rgba(var(--accent-success-rgb), 0.28);
}

/* Thin divider line */
.divider-line {
  height: 1px;
  background: var(--border-subtle);
}


/* =============================================================================
   PREMIUM ANIMATIONS
   Iron Man HUD-inspired animations with accent theme awareness
   ============================================================================= */

/* Accent-aware pulse glow */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(var(--accent-highlight-rgb), 0.2);
  }
  50% {
    box-shadow: 0 0 30px rgba(var(--accent-highlight-rgb), 0.5);
  }
}

@keyframes pulse-glow-accent {
  0%, 100% {
    box-shadow: 0 0 15px rgba(var(--accent-primary-rgb), 0.15);
  }
  50% {
    box-shadow: 0 0 25px rgba(var(--accent-primary-rgb), 0.35);
  }
}

/* XP bar fill animation */
@keyframes xp-fill {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}

/* HUD scan line sweep - for periodic ambient effect */
@keyframes hud-scan {
  0% {
    left: -100%;
    opacity: 0;
  }
  5% {
    opacity: 0.6;
  }
  95% {
    opacity: 0.6;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

/* Holographic flicker effect */
@keyframes holo-flicker {
  0%, 100% { opacity: 1; }
  25% { opacity: 0.92; }
  50% { opacity: 1; }
  75% { opacity: 0.95; }
}

/* Data stream animation for loading states */
@keyframes data-stream {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 -100px;
  }
}

/* Ambient float for decorative elements */
@keyframes ambient-float {
  0%, 100% {
    transform: translateY(0) translateX(0);
  }
  25% {
    transform: translateY(-5px) translateX(2px);
  }
  50% {
    transform: translateY(-2px) translateX(-2px);
  }
  75% {
    transform: translateY(-7px) translateX(1px);
  }
}

/* Border glow animation */
@keyframes border-glow {
  0%, 100% {
    border-color: rgba(var(--accent-primary-rgb), 0.2);
  }
  50% {
    border-color: rgba(var(--accent-primary-rgb), 0.4);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 1.2s ease-in-out infinite;
}

.animate-pulse-accent {
  animation: pulse-glow-accent 2s ease-in-out infinite;
}

.animate-hud-scan {
  animation: hud-scan 3s linear;
}

.animate-holo-flicker {
  animation: holo-flicker 0.15s steps(5);
}

.animate-data-stream {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(var(--accent-primary-rgb), 0.03) 2px,
    rgba(var(--accent-primary-rgb), 0.03) 4px
  );
  animation: data-stream 2s linear infinite;
}

.animate-ambient-float {
  animation: ambient-float 8s ease-in-out infinite;
}

.animate-border-glow {
  animation: border-glow 2s ease-in-out infinite;
}

/* Light mode animation adjustments - boosted for cream backgrounds */
@keyframes pulse-glow-light {
  0%, 100% {
    box-shadow: 0 0 16px rgba(var(--accent-highlight-rgb), 0.22);
  }
  50% {
    box-shadow: 0 0 26px rgba(var(--accent-highlight-rgb), 0.40);
  }
}

:root.light .animate-pulse-glow {
  animation: pulse-glow-light 1.2s ease-in-out infinite;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .animate-pulse-glow,
  .animate-pulse-accent,
  .animate-hud-scan,
  .animate-holo-flicker,
  .animate-data-stream,
  .animate-ambient-float,
  .animate-border-glow {
    animation: none;
  }
}

/* Modal backdrop utilities */
.modal-backdrop {
  background-color: var(--backdrop-color);
}

.modal-backdrop-heavy {
  background-color: var(--backdrop-heavy);
}

/* =============================================================================
   MOBILE SAFE AREA
   Support for notched phones (iPhone X+, etc.)
   ============================================================================= */

/* Safe area padding for bottom navigation */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Ensure proper viewport handling on iOS */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* =============================================================================
   LANDING PAGE ANIMATIONS
   Smooth, purposeful animations for the marketing landing page
   ============================================================================= */

/* Perspective for 3D transforms */
.perspective-1000 {
  perspective: 1000px;
}

/* Smooth gradient text - for hero headlines */
.gradient-text {
  background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-primary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Subtle floating animation for dashboard preview */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-8px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

/* Glow pulse for active elements - accent aware */
@keyframes glow-pulse-landing {
  0%, 100% {
    box-shadow: 0 0 20px rgba(var(--accent-primary-rgb), 0.2);
  }
  50% {
    box-shadow: 0 0 40px rgba(var(--accent-primary-rgb), 0.4);
  }
}

.animate-glow-pulse {
  animation: glow-pulse-landing 2s ease-in-out infinite;
}

/* Counter number animation helper */
@keyframes count-up {
  from {
    opacity: 0.5;
  }
  to {
    opacity: 1;
  }
}

/* Shimmer effect for loading states */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.05) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.2s infinite;
}

/* Light mode landing adjustments - visible on cream backgrounds */
:root.light .animate-glow-pulse {
  animation-name: glow-pulse-landing-light;
}

@keyframes glow-pulse-landing-light {
  0%, 100% {
    box-shadow: 0 0 24px rgba(var(--accent-primary-rgb), 0.20);
  }
  50% {
    box-shadow: 0 0 48px rgba(var(--accent-primary-rgb), 0.35);
  }
}

/* Reduced motion support for landing animations */
@media (prefers-reduced-motion: reduce) {
  .animate-float,
  .animate-glow-pulse,
  .animate-shimmer {
    animation: none;
  }
}

/* =============================================================================
   PREMIUM GLASSMORPHISM
   Iron Man HUD-inspired glass effects with depth and dimension
   ============================================================================= */

/* Glass card - subtle backdrop blur with improved shadows for grey */
.glass-card {
  background: color-mix(in srgb, var(--bg-card) 80%, transparent);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.15),
    0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Glass card elevated - stronger blur */
.glass-card-elevated {
  background: color-mix(in srgb, var(--bg-card) 70%, transparent);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Premium glass card - Iron Man HUD style */
.glass-card-premium {
  background: linear-gradient(
    135deg,
    rgba(var(--bg-card-rgb), 0.9) 0%,
    rgba(var(--bg-card-rgb), 0.75) 100%
  );
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.25),
    0 1px 0 rgba(255, 255, 255, 0.05) inset;
  transition: all 0.2s ease-out;
}

.glass-card-premium:hover {
  border-color: rgba(var(--accent-primary-rgb), 0.2);
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.06) inset,
    0 8px 28px rgba(0, 0, 0, 0.25),
    0 0 0 1px rgba(var(--accent-primary-rgb), 0.1);
}

/* Light mode glass adjustments - tactical panel appearance */
:root.light .glass-card-premium {
  background: linear-gradient(
    135deg,
    rgba(var(--bg-card-rgb), 0.92) 0%,
    rgba(var(--bg-card-rgb), 0.88) 100%
  );
  border-color: rgba(30, 25, 20, 0.15);
  box-shadow:
    0 4px 20px rgba(30, 25, 20, 0.10),
    0 1px 0 rgba(255, 255, 255, 0.6) inset,
    inset 0 -1px 0 rgba(30, 25, 20, 0.05);
}

:root.light .glass-card-premium:hover {
  border-color: rgba(var(--accent-primary-rgb), 0.25);
  box-shadow:
    0 8px 28px rgba(30, 25, 20, 0.14),
    0 1px 0 rgba(255, 255, 255, 0.7) inset,
    0 0 0 1px rgba(var(--accent-primary-rgb), 0.12);
}

/* Interactive card 3D tilt effect - controlled via JavaScript */
.card-3d-tilt {
  transform-style: preserve-3d;
  transition: transform 0.15s ease-out;
}

.card-3d-tilt:hover {
  transform: perspective(1000px) rotateX(var(--tilt-x, 0deg)) rotateY(var(--tilt-y, 0deg)) scale(1.02);
}

/* Light reflection overlay for 3D cards */
.card-light-reflection::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    105deg,
    transparent 40%,
    rgba(255, 255, 255, 0.03) 45%,
    rgba(255, 255, 255, 0.05) 50%,
    rgba(255, 255, 255, 0.03) 55%,
    transparent 60%
  );
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease-out;
}

.card-light-reflection:hover::before {
  opacity: 1;
}


/* Breathing animation for active focus sessions - accent aware */
@keyframes breathing {
  0%, 100% {
    box-shadow: 0 0 20px rgba(var(--accent-primary-rgb), 0.15);
  }
  50% {
    box-shadow: 0 0 30px rgba(var(--accent-primary-rgb), 0.25);
  }
}

.animate-breathing {
  animation: breathing 2s ease-in-out infinite;
}

:root.light .animate-breathing {
  animation-name: breathing-light;
}

@keyframes breathing-light {
  0%, 100% {
    box-shadow: 0 0 20px rgba(var(--accent-primary-rgb), 0.18);
  }
  50% {
    box-shadow: 0 0 32px rgba(var(--accent-primary-rgb), 0.30);
  }
}

/* Gradient border utility */
.border-gradient {
  position: relative;
  border: none;
  background-clip: padding-box;
}

.border-gradient::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 50%,
    rgba(255, 255, 255, 0.05) 100%
  );
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  pointer-events: none;
}

/* Subtle card hover lift - smooth */
.hover-lift {
  transition: transform 180ms ease-out, box-shadow 180ms ease-out;
}

.hover-lift:hover {
  transform: translateY(-1px);
}

/* Premium hover lift with glow */
.hover-lift-glow {
  transition: transform 200ms ease-out, box-shadow 200ms ease-out, border-color 200ms ease-out;
}

.hover-lift-glow:hover {
  transform: translateY(-2px);
  box-shadow:
    0 8px 24px rgba(0, 0, 0, 0.18),
    0 0 12px rgba(var(--accent-primary-rgb), 0.08);
  border-color: rgba(var(--accent-primary-rgb), 0.18);
}

:root.light .hover-lift-glow:hover {
  box-shadow:
    0 12px 36px rgba(30, 25, 20, 0.12),
    0 0 20px rgba(var(--accent-primary-rgb), 0.15);
}

/* Active nav indicator slide */
@keyframes nav-indicator-slide {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}

.nav-indicator-animated {
  animation: nav-indicator-slide 0.2s ease-out forwards;
  transform-origin: left;
}

/* Pulsing dot for current time indicator */
@keyframes pulsing-dot {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.2);
  }
}

.animate-pulsing-dot {
  animation: pulsing-dot 1.5s ease-in-out infinite;
}

/* Reduced motion support for new animations */
@media (prefers-reduced-motion: reduce) {
  .animate-breathing,
  .animate-pulsing-dot {
    animation: none;
  }

  .hover-lift:hover,
  .hover-lift-glow:hover {
    transform: none;
  }

  .nav-indicator-animated {
    animation: none;
    transform: scaleX(1);
  }

  .card-3d-tilt:hover {
    transform: none;
  }
}

/* =============================================================================
   PREMIUM ACCENT UTILITIES
   Quick utility classes for accent-aware styling
   ============================================================================= */

/* Accent text color */
.text-accent {
  color: var(--accent-primary);
}

.text-accent-highlight {
  color: var(--accent-highlight);
}

/* Accent backgrounds with opacity */
.bg-accent-subtle {
  background-color: rgba(var(--accent-primary-rgb), 0.1);
}

.bg-accent-medium {
  background-color: rgba(var(--accent-primary-rgb), 0.2);
}

/* Accent borders */
.border-accent-subtle {
  border-color: rgba(var(--accent-primary-rgb), 0.2);
}

.border-accent-medium {
  border-color: rgba(var(--accent-primary-rgb), 0.4);
}

/* Accent gradient backgrounds */
.gradient-accent {
  background: linear-gradient(
    135deg,
    rgba(var(--accent-primary-rgb), 0.15) 0%,
    rgba(var(--accent-primary-rgb), 0.05) 100%
  );
}

/* Premium button states */
.btn-accent {
  background-color: var(--accent-primary);
  color: white;
  transition: all 0.15s ease-out;
}

.btn-accent:hover {
  filter: brightness(1.1);
  box-shadow: 0 4px 12px rgba(var(--accent-primary-rgb), 0.3);
}

.btn-accent:active {
  filter: brightness(0.95);
  transform: translateY(1px);
}

/* Accent ring for focus states */
.ring-accent {
  box-shadow: 0 0 0 2px rgba(var(--accent-primary-rgb), 0.4);
}

/* Icon accent glow */
.icon-glow {
  filter: drop-shadow(0 0 6px rgba(var(--accent-primary-rgb), 0.4));
}

/* Streak-specific accent (uses streak color, not theme accent) */
.text-streak {
  color: var(--accent-streak);
}

.bg-streak-subtle {
  background-color: rgba(var(--accent-streak-rgb), 0.1);
}

.glow-streak-active {
  box-shadow: 0 0 20px rgba(var(--accent-streak-rgb), 0.4);
}

/* =============================================================================
   ANIME.JS STYLE ANIMATIONS
   Dramatic entrance animations and micro-interactions
   ============================================================================= */

/* Icon entrance pulse animation */
@keyframes icon-entrance-pulse {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.15);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-icon-entrance {
  animation: icon-entrance-pulse 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Value highlight flash */
@keyframes value-highlight-flash {
  0% {
    background-color: rgba(var(--accent-primary-rgb), 0.25);
  }
  100% {
    background-color: transparent;
  }
}

.animate-value-flash {
  animation: value-highlight-flash 0.5s ease-out forwards;
}

/* Spring scale animation */
@keyframes spring-scale-in {
  0% {
    transform: scale(0.95) translateY(12px);
    opacity: 0;
  }
  60% {
    transform: scale(1.02) translateY(-2px);
    opacity: 1;
  }
  100% {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}

.animate-spring-in {
  animation: spring-scale-in 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Counter number pop */
@keyframes counter-pop {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.08);
  }
  100% {
    transform: scale(1);
  }
}

.animate-counter-pop {
  animation: counter-pop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* SVG checkmark draw animation */
@keyframes checkmark-draw {
  0% {
    stroke-dashoffset: 50;
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 1;
  }
}

.animate-checkmark-draw {
  stroke-dasharray: 50;
  animation: checkmark-draw 0.35s ease-out forwards;
}

/* Completion ripple effect */
@keyframes completion-ripple {
  0% {
    transform: scale(0);
    opacity: 0.6;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

.animate-completion-ripple {
  animation: completion-ripple 0.4s ease-out forwards;
}

/* Line draw animation */
@keyframes line-draw-left {
  0% {
    transform: scaleX(0);
  }
  100% {
    transform: scaleX(1);
  }
}

.animate-line-draw {
  transform-origin: left center;
  animation: line-draw-left 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Section cascade entrance */
@keyframes section-cascade {
  0% {
    opacity: 0;
    transform: translateY(20px);
    filter: blur(4px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

.animate-section-cascade {
  animation: section-cascade 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Staggered entrance delays */
.stagger-1 { animation-delay: 0ms; }
.stagger-2 { animation-delay: 60ms; }
.stagger-3 { animation-delay: 120ms; }
.stagger-4 { animation-delay: 180ms; }
.stagger-5 { animation-delay: 240ms; }
.stagger-6 { animation-delay: 300ms; }
.stagger-7 { animation-delay: 360ms; }
.stagger-8 { animation-delay: 420ms; }

/* Grid stagger for heatmaps - diagonal wave */
.grid-stagger-1 { animation-delay: 0ms; }
.grid-stagger-2 { animation-delay: 20ms; }
.grid-stagger-3 { animation-delay: 40ms; }
.grid-stagger-4 { animation-delay: 60ms; }
.grid-stagger-5 { animation-delay: 80ms; }
.grid-stagger-6 { animation-delay: 100ms; }
.grid-stagger-7 { animation-delay: 120ms; }
.grid-stagger-8 { animation-delay: 140ms; }
.grid-stagger-9 { animation-delay: 160ms; }
.grid-stagger-10 { animation-delay: 180ms; }

/* Area chart mask reveal */
@keyframes area-reveal {
  0% {
    clip-path: inset(0 100% 0 0);
  }
  100% {
    clip-path: inset(0 0 0 0);
  }
}

.animate-area-reveal {
  animation: area-reveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Point fade in */
@keyframes point-fade {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  60% {
    transform: scale(1.3);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-point-fade {
  animation: point-fade 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Cell reveal for heatmaps */
@keyframes cell-reveal {
  0% {
    transform: scale(0.6);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-cell-reveal {
  animation: cell-reveal 0.25s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Hover intensity pulse for heatmap cells */
@keyframes cell-hover-pulse {
  0%, 100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.2);
  }
}

.cell-hover-pulse:hover {
  animation: cell-hover-pulse 0.4s ease-out;
}

/* Tab indicator slide */
@keyframes tab-indicator-slide {
  0% {
    transform: scaleX(0.3);
    opacity: 0.5;
  }
  100% {
    transform: scaleX(1);
    opacity: 1;
  }
}

.animate-tab-indicator {
  animation: tab-indicator-slide 0.25s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* XP bar spring fill */
@keyframes xp-spring-fill {
  0% {
    transform: scaleX(var(--from-percent, 0));
  }
  70% {
    transform: scaleX(calc(var(--to-percent, 1) * 1.02));
  }
  100% {
    transform: scaleX(var(--to-percent, 1));
  }
}

.animate-xp-spring-fill {
  transform-origin: left center;
  animation: xp-spring-fill 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Level pop animation */
@keyframes level-pop {
  0% {
    transform: scale(1);
  }
  30% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

.animate-level-pop {
  animation: level-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Near level-up shimmer */
@keyframes near-levelup-shimmer {
  0% {
    left: -100%;
    opacity: 0;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

.xp-bar-shimmer {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.3) 50%,
    transparent 100%
  );
  animation: near-levelup-shimmer 1.5s ease-in-out infinite;
}

/* Toast entrance animation */
@keyframes toast-enter {
  0% {
    transform: translateX(100%);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes toast-exit {
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

.animate-toast-enter {
  animation: toast-enter 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-toast-exit {
  animation: toast-exit 0.2s ease-in forwards;
}

/* Reduced motion support for new animations */
@media (prefers-reduced-motion: reduce) {
  .animate-icon-entrance,
  .animate-value-flash,
  .animate-spring-in,
  .animate-counter-pop,
  .animate-checkmark-draw,
  .animate-completion-ripple,
  .animate-line-draw,
  .animate-section-cascade,
  .animate-area-reveal,
  .animate-point-fade,
  .animate-cell-reveal,
  .animate-tab-indicator,
  .animate-xp-spring-fill,
  .animate-level-pop,
  .animate-toast-enter,
  .animate-toast-exit {
    animation: none;
    opacity: 1;
    transform: none;
    filter: none;
    clip-path: none;
  }

  .xp-bar-shimmer {
    display: none;
  }

  .cell-hover-pulse:hover {
    animation: none;
  }
}
