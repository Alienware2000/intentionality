@import "tailwindcss";

/* =============================================================================
   INTENTIONALITY - DESIGN SYSTEM
   Inspired by anime.js: dramatic dark theme with high-contrast accents
   ============================================================================= */

/* Dark theme (default) */
:root,
:root.dark {
  /* Base colors - true black with dramatic contrast */
  --bg-base: #000000;
  --bg-elevated: #0a0a0a;
  --bg-card: #111111;
  --bg-hover: #1a1a1a;

  /* Text colors */
  --text-primary: #ffffff;
  --text-secondary: #a3a3a3;
  --text-muted: #525252;

  /* Accent colors - anime.js inspired */
  --accent-primary: #ef4444;        /* red-500 - main accent, XP bar */
  --accent-highlight: #ebffa5;      /* lime-yellow - highlights, level-ups */
  --accent-success: #22c55e;        /* green - completions */
  --accent-streak: #f97316;         /* orange - streaks/fire */

  /* Priority colors */
  --priority-high: #ef4444;         /* red */
  --priority-medium: #eab308;       /* yellow */
  --priority-low: #525252;          /* grey */

  /* Borders and lines */
  --border-subtle: rgba(255, 255, 255, 0.08);
  --border-default: rgba(255, 255, 255, 0.12);
  --border-accent: rgba(239, 68, 68, 0.4);

  /* Heatmap & Skeleton */
  --heatmap-empty: #1a1a1a;
  --skeleton-bg: #1a1a1a;

  /* Achievement Tiers */
  --tier-bronze-text: #f59e0b;
  --tier-bronze-glow: rgba(217, 119, 6, 0.6);
  --tier-silver-text: #94a3b8;
  --tier-silver-glow: rgba(148, 163, 184, 0.6);
  --tier-gold-text: #fbbf24;
  --tier-gold-glow: rgba(250, 204, 21, 0.6);

  /* Modal Backdrops */
  --backdrop-color: rgba(0, 0, 0, 0.80);
  --backdrop-heavy: rgba(0, 0, 0, 0.90);

  /* Level-up glow */
  --levelup-glow: rgba(235, 255, 165, 0.5);
  --levelup-glow-soft: rgba(235, 255, 165, 0.3);

  /* Legacy - for Tailwind compatibility */
  --background: #000000;
  --foreground: #ffffff;
}

/* Light theme - Modern clean palette (inspired by Notion, Linear, GitHub) */
:root.light {
  /* Base colors - clean off-white/white */
  --bg-base: #fafafa;              /* Off-white background */
  --bg-elevated: #ffffff;          /* Pure white for elevated surfaces */
  --bg-card: #ffffff;              /* White cards */
  --bg-hover: #f3f4f6;             /* gray-100 for hover states */

  /* Text colors - cool gray hierarchy (WCAG AAA compliant) */
  --text-primary: #111827;         /* gray-900 - 15.8:1 contrast */
  --text-secondary: #374151;       /* gray-700 - 9.7:1 contrast */
  --text-muted: #6b7280;           /* gray-500 - 5.4:1 contrast */

  /* Accent colors - blue primary for professional feel */
  --accent-primary: #2563eb;        /* blue-600 */
  --accent-highlight: #fef08a;      /* yellow-200 */
  --accent-success: #16a34a;        /* green-600 */
  --accent-streak: #ea580c;         /* orange-600 */

  /* Priority colors */
  --priority-high: #dc2626;         /* red-600 */
  --priority-medium: #ca8a04;       /* yellow-600 */
  --priority-low: #6b7280;          /* gray-500 */

  /* Borders and lines - stronger for visibility */
  --border-subtle: rgba(0, 0, 0, 0.12);
  --border-default: rgba(0, 0, 0, 0.20);
  --border-accent: rgba(37, 99, 235, 0.30);

  /* Heatmap & Skeleton - visible gray */
  --heatmap-empty: #e5e7eb;
  --skeleton-bg: #e5e7eb;

  /* Achievement Tiers - darker for contrast */
  --tier-bronze-text: #b45309;
  --tier-bronze-glow: rgba(180, 83, 9, 0.4);
  --tier-silver-text: #475569;
  --tier-silver-glow: rgba(71, 85, 105, 0.4);
  --tier-gold-text: #b45309;
  --tier-gold-glow: rgba(180, 83, 9, 0.4);

  /* Modal Backdrops - lighter */
  --backdrop-color: rgba(0, 0, 0, 0.50);
  --backdrop-heavy: rgba(0, 0, 0, 0.60);

  /* Level-up glow - blue tinted */
  --levelup-glow: rgba(37, 99, 235, 0.35);
  --levelup-glow-soft: rgba(37, 99, 235, 0.15);

  /* Legacy - for Tailwind compatibility */
  --background: #fafafa;
  --foreground: #111827;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--bg-base);
  color: var(--text-primary);
  font-family: var(--font-sans), system-ui, sans-serif;
}

/* =============================================================================
   BACKGROUND EFFECTS
   Subtle grid pattern with red accent glows
   ============================================================================= */

.intentionality-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* Grid layer - subtle geometric pattern */
.intentionality-bg::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 48px 48px;
  opacity: 0.4;
}

/* Glow layer - red accent glows at corners (dark mode) */
.intentionality-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    /* Top-left red glow */
    radial-gradient(600px circle at 10% 10%, rgba(239, 68, 68, 0.08), transparent 50%),
    /* Bottom-right subtle glow */
    radial-gradient(800px circle at 90% 90%, rgba(239, 68, 68, 0.05), transparent 50%),
    /* Vignette for depth */
    radial-gradient(1400px circle at 50% 50%, transparent 30%, rgba(0, 0, 0, 0.4) 100%);
  opacity: 1;
}

/* Light mode background adjustments - subtle cool tones */
:root.light .intentionality-bg::before {
  background-image:
    linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
  opacity: 0.3;
}

:root.light .intentionality-bg::after {
  background:
    /* Top-left subtle blue glow */
    radial-gradient(600px circle at 10% 10%, rgba(37, 99, 235, 0.04), transparent 50%),
    /* Bottom-right subtle accent glow */
    radial-gradient(800px circle at 90% 90%, rgba(37, 99, 235, 0.02), transparent 50%),
    /* Very subtle vignette */
    radial-gradient(1400px circle at 50% 50%, transparent 60%, rgba(0, 0, 0, 0.02) 100%);
}

/* =============================================================================
   CUSTOM SCROLLBAR STYLING
   Thin, themed scrollbars that match the design system
   ============================================================================= */

.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--border-default) transparent;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--border-default);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: var(--text-muted);
}

:root.light .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: var(--border-subtle);
}

:root.light .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: var(--text-muted);
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

/* Theme-aware color scheme for native date/time inputs */
.theme-color-scheme {
  color-scheme: dark;
}

:root.light .theme-color-scheme {
  color-scheme: light;
}

/* Monospace text for numbers and stats */
.font-mono-stats {
  font-family: var(--font-mono), ui-monospace, monospace;
  font-feature-settings: "tnum" on, "lnum" on;
}

/* Red glow effect for important elements (dark mode) */
.glow-red {
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

/* Orange glow for streaks (dark mode) */
.glow-orange {
  box-shadow: 0 0 15px rgba(249, 115, 22, 0.4);
}

/* Lime highlight glow (dark mode) */
.glow-highlight {
  box-shadow: 0 0 20px rgba(235, 255, 165, 0.4);
}

/* Light mode glow variants - softer, more subtle */
:root.light .glow-red {
  box-shadow: 0 0 16px rgba(37, 99, 235, 0.15);
}

:root.light .glow-orange {
  box-shadow: 0 0 12px rgba(234, 88, 12, 0.2);
}

:root.light .glow-highlight {
  box-shadow: 0 0 16px rgba(202, 138, 4, 0.2);
}

/* Thin divider line */
.divider-line {
  height: 1px;
  background: var(--border-subtle);
}


/* =============================================================================
   ANIMATIONS
   ============================================================================= */

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(235, 255, 165, 0.2);
  }
  50% {
    box-shadow: 0 0 30px rgba(235, 255, 165, 0.5);
  }
}

@keyframes xp-fill {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 1.2s ease-in-out infinite;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .animate-pulse-glow {
    animation: none;
  }
}

/* Light mode pulse-glow animation - blue tinted */
@keyframes pulse-glow-light {
  0%, 100% {
    box-shadow: 0 0 12px var(--levelup-glow-soft);
  }
  50% {
    box-shadow: 0 0 20px var(--levelup-glow);
  }
}

:root.light .animate-pulse-glow {
  animation: pulse-glow-light 1.2s ease-in-out infinite;
}

/* Modal backdrop utilities */
.modal-backdrop {
  background-color: var(--backdrop-color);
}

.modal-backdrop-heavy {
  background-color: var(--backdrop-heavy);
}

/* =============================================================================
   MOBILE SAFE AREA
   Support for notched phones (iPhone X+, etc.)
   ============================================================================= */

/* Safe area padding for bottom navigation */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Ensure proper viewport handling on iOS */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* =============================================================================
   LANDING PAGE ANIMATIONS
   Smooth, purposeful animations for the marketing landing page
   ============================================================================= */

/* Perspective for 3D transforms */
.perspective-1000 {
  perspective: 1000px;
}

/* Smooth gradient text - for hero headlines */
.gradient-text {
  background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-primary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Subtle floating animation for dashboard preview */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-8px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

/* Glow pulse for active elements */
@keyframes glow-pulse-landing {
  0%, 100% {
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
  }
  50% {
    box-shadow: 0 0 40px rgba(239, 68, 68, 0.4);
  }
}

.animate-glow-pulse {
  animation: glow-pulse-landing 2s ease-in-out infinite;
}

/* Counter number animation helper */
@keyframes count-up {
  from {
    opacity: 0.5;
  }
  to {
    opacity: 1;
  }
}

/* Shimmer effect for loading states */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.05) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.2s infinite;
}

/* Light mode landing adjustments */
:root.light .animate-glow-pulse {
  animation-name: glow-pulse-landing-light;
}

@keyframes glow-pulse-landing-light {
  0%, 100% {
    box-shadow: 0 0 20px rgba(37, 99, 235, 0.15);
  }
  50% {
    box-shadow: 0 0 40px rgba(37, 99, 235, 0.25);
  }
}

/* Reduced motion support for landing animations */
@media (prefers-reduced-motion: reduce) {
  .animate-float,
  .animate-glow-pulse,
  .animate-shimmer {
    animation: none;
  }
}

/* =============================================================================
   GLASSMORPHISM & GLOW UTILITIES
   Shared utilities for the UI overhaul
   ============================================================================= */

/* Glass card - subtle backdrop blur */
.glass-card {
  background: color-mix(in srgb, var(--bg-card) 80%, transparent);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Glass card elevated - stronger blur */
.glass-card-elevated {
  background: color-mix(in srgb, var(--bg-card) 70%, transparent);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}


/* Breathing animation for active focus sessions */
@keyframes breathing {
  0%, 100% {
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.15);
  }
  50% {
    box-shadow: 0 0 30px rgba(239, 68, 68, 0.25);
  }
}

.animate-breathing {
  animation: breathing 2s ease-in-out infinite;
}

:root.light .animate-breathing {
  animation-name: breathing-light;
}

@keyframes breathing-light {
  0%, 100% {
    box-shadow: 0 0 16px rgba(37, 99, 235, 0.12);
  }
  50% {
    box-shadow: 0 0 24px rgba(37, 99, 235, 0.2);
  }
}

/* Gradient border utility */
.border-gradient {
  position: relative;
  border: none;
  background-clip: padding-box;
}

.border-gradient::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 50%,
    rgba(255, 255, 255, 0.05) 100%
  );
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  pointer-events: none;
}

/* Subtle card hover lift - snappy */
.hover-lift {
  transition: transform 120ms ease-out, box-shadow 120ms ease-out;
}

.hover-lift:hover {
  transform: translateY(-2px) scale(1.01);
}

/* Active nav indicator slide */
@keyframes nav-indicator-slide {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}

.nav-indicator-animated {
  animation: nav-indicator-slide 0.2s ease-out forwards;
  transform-origin: left;
}

/* Pulsing dot for current time indicator */
@keyframes pulsing-dot {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.2);
  }
}

.animate-pulsing-dot {
  animation: pulsing-dot 1.5s ease-in-out infinite;
}

/* Reduced motion support for new animations */
@media (prefers-reduced-motion: reduce) {
  .animate-breathing,
  .animate-pulsing-dot {
    animation: none;
  }

  .hover-lift:hover {
    transform: none;
  }

  .nav-indicator-animated {
    animation: none;
    transform: scaleX(1);
  }
}
